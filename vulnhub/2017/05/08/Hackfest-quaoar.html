<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/static/img/favicon.ico" />
    <title>Vulnhub HackFest Quaoar - Roskyfrosky Blog</title>
    <meta name="author" content="Roskyfrosky" />
    <meta name="description" content="Vulnhub HackFest Quaoar" />
    <meta name="keywords" content="Vulnhub HackFest Quaoar, Roskyfrosky Blog, vulnhub" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
    <meta content="" property="fb:app_id">
    <meta content="Roskyfrosky Blog" property="og:site_name">

    

    
      <meta content="Vulnhub HackFest Quaoar" property="og:title">
      <meta content="article" property="og:type">
    

    
      <meta content="This is my personal blog" property="og:description">
    

    
      <meta content="https://blog.roskyfrosky.com/vulnhub/2017/05/08/Hackfest-quaoar.html" property="og:url">
    

    
      <meta content="2017-05-08T09:11:34+02:00" property="article:published_time">
      <meta content="https://blog.roskyfrosky.com/about/" property="article:author">
    

    
      <meta content="https://blog.roskyfrosky.com/static/img/posts//images/avatares/hackfest_quaoar.png" property="og:image">
    

    
      
        <meta content="vulnhub" property="article:section">
      
    

    
      
        <meta content="boot2root" property="article:tag">
      
        <meta content="vulnhub" property="article:tag">
      
    

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@roskyfrosky">
    <meta name="twitter:creator" content="@roskyfrosky">

    
      <meta name="twitter:title" content="Vulnhub HackFest Quaoar">
    

    
      <meta name="twitter:url" content="https://blog.roskyfrosky.com/vulnhub/2017/05/08/Hackfest-quaoar.html">
    

    
      <meta name="twitter:description" content="This is my personal blog">
    

    

    <!-- Font awesome icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/static/css/syntax.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/super-search.css">
    <link rel="stylesheet" href="/static/css/thickbox.css">
    <link rel="stylesheet" href="/static/css/projects.css">
    <link rel="stylesheet" href="/static/css/main.css">

    
  </head>
  <body>
    <div class="container">
      <div class="col-sm-3">
        <div class="fixed-condition">
          <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a>
          <h1 class="author-name">Roskyfrosky</h1>
          
          <div class="social">
            <ul>
              
                <li><a href="https://twitter.com/roskyfrosky" target="_blank"><i class="fa fa-twitter"></i></a></li>
              
                <li><a href="https://github.com/roskyfrosky" target="_blank"><i class="fa fa-github"></i></a></li>
              
            </ul>
          </div>
          <div class="search" id="js-search">
            <input type="text" placeholder="(sitemap)~$ type to search" class="search__input form-control" id="js-search__input">
            <ul class="search__results" id="js-search__results"></ul>
          </div>
          <hr />
          <ul class="sidebar-nav">
            <strong>Navigation</strong>
            <li><a href="/">Home</a></li>
            
              <li><a class="about" href="/about/">About Me</a></li>
            
              <li><a class="about" href="/feed.xml">XML Feed</a></li>
            
          </ul>
        </div>
        <!-- end /.fixed-condition -->
      </div>
      <div class="col-sm-8 col-offset-1 main-layout">
        <header class="post-header">
  <h1 class="post-title">Vulnhub HackFest Quaoar</h1>
</header>

<span class="time">08 May 2017</span>

  <span class="categories">
    &raquo; <a href="/category/vulnhub">vulnhub</a>
  </span>


<div class="content">
  <div class="post"><h1 id="hackfest-quaoar-boot2root-vulnhub">HackFest Quaoar Boot2Root Vulnhub</h1>
<p><strong>URL de la máquina:</strong> <a href="https://www.vulnhub.com/entry/hackfest2016-quaoar,180/">https://www.vulnhub.com/entry/hackfest2016-quaoar,180/</a><br />
<strong>Descripción:</strong> Welcome to Quaoar<br />
This is a vulnerable machine i created for the Hackfest 2016 CTF http://hackfest.ca/</p>

<p>Tips:</p>

<p>Here are the tools you can research to help you to own this machine. nmap dirb / dirbuster / BurpSmartBuster nikto wpscan hydra Your Brain Coffee Google :)
Goals: This machine is intended to be doable by someone who is interested in learning computer security There are 3 flags on this machine 1. Get a shell 2. Get root access 3. There is a post exploitation flag on the box<br />
Feedback: This is my first vulnerable machine, please give me feedback on how to improve ! @ViperBlackSkull on Twitter simon.nolet@hotmail.com Special Thanks to madmantm for testing<br />
SHA-256:DA39EC5E9A82B33BA2C0CD2B1F5E8831E75759C51B3A136D3CB5D8126E2A4753</p>

<h2 id="solución">Solución</h2>

<p>En primer lugar, y como en todas las máquinas que estamos realizando, lo primero en realizar siempre es un escaneo de puertos de la máquina para comprobar que servicios están corriendo en ella.</p>

<p><img src="/images/Vulnhub/hackfest_quaoar/escaneo.png" alt="" class="img-responsive" /></p>

<p>Vemos que hay varios servicios corriendo en el servidor, pero primero de todo vamos a ver que podemos encontrar en el apache que está corriendo.</p>

<p>Se nos presenta una imagen de un planeta y un botón que nos muestra una imagen de hacktheplanet!, por lo que pasamos a mirar el fichero robots.txt por si existiese y ver que podemos encontrarnos.</p>

<p><img src="/images/Vulnhub/hackfest_quaoar/robots.png" alt="" class="img-responsive" /></p>

<p>Parece que hay un wordpress instalado en la máquina, por lo que accedemos al path del wordpress y confirmamos que es así. Lanzamos el wpscan para ver si encontramos alguna vulnerabilidad que nos permita tener acceso al servidor pero no encontramos nada reseñable, por lo que intentamos hacer fuerza bruta al login del wordpress. Antes de probar ninguna herramienta automática intentamos un par de contraseñas típicas y vemos que con el usuario admin y la contraseña admin tenemos acceso.</p>

<p>Lo siguiente que hacemos es modificar el fichero 404.php del theme twentyfourthteen con una reverse shell en php para poder conectarnos desde nuestra máquina y tener acceso a la máquina más comodamente.</p>

<p><img src="/images/Vulnhub/hackfest_quaoar/wordpress_shell.png" alt="" class="img-responsive" /></p>

<p>Una vez añadido el fichero nos conectamos tal y como se puede apreciar en la siguiente imagen</p>

<p><img src="/images/Vulnhub/hackfest_quaoar/reverse_shell.png" alt="" class="img-responsive" /></p>

<p>Dentro de la máquina vamos al path home/wpadmin y podemos encontrar la primera flag en el fichero flag.txt cuyo contenido es “2bafe61f03117ac66a73c3c514de796e”</p>

<p>Lo siguiente que tenemos que hacer es buscar la manera de conseguir ser root en la máquina. Para ello navegando entre los distintos directorios, vemos que hay una carpeta upload donde existe un fichero config.php. El path completo es /var/www/upload.</p>

<p>Vemos el contenido del fichero y podemos observar como existe un usuario root para la base de datos y una contraseña para el usuario root</p>

<p><img src="/images/Vulnhub/hackfest_quaoar/config_file.png" alt="" class="img-responsive" /></p>

<p>Probamos esa misma contraseña con el comando su para ver si podemos elevar privilegios, y Bingo! Ya somos usuarios root.</p>

<p>Entramos en la carpeta /root y mostramos el contenido del fichero flag.txt como se puede ver en la siguiene imagen.</p>

<p><img src="/images/Vulnhub/hackfest_quaoar/root.png" alt="" class="img-responsive" /></p>

<p>Esta máquina ha sido bastante sencilla. Veremos si en las otras dos máquina se realizaron durante el CTF del congreso HackFest ofrecen algo más de dificultad.</p>

</div>
  <div class="share-page">
  <span style="float: left;">Share this on &rarr;&nbsp;&nbsp;</span>

  <!-- Twitter -->
  <a href="https://twitter.com/share" class="twitter-share-button" data-via="roskyfrosky">Tweet</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <!-- Google + -->
  <div class="g-plus" data-action="share" data-annotation="bubble"></div>
  <script src="https://apis.google.com/js/platform.js" async defer></script>

  <!-- Facebook -->
  <div class="fb-share-button" data-href="https://blog.roskyfrosky.com/vulnhub/2017/05/08/Hackfest-quaoar.html" data-layout="button_count" style="position: relative; top: -8px; left: 3px;"></div>
</div>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

</div>


  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
            
            <div class="panel-body">
              <h4>Related Posts</h4>
              <ul>
            
                <li class="relatedPost">
                  <a href="https://blog.roskyfrosky.com/vulnhub/2018/03/15/Fristileak-vulnhub.html">Vulnhub FristiLeak</a>
                  
                    (Categories: <a href="/category/vulnhub">vulnhub</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
      
    
        
          
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="https://blog.roskyfrosky.com/vulnhub/2018/03/09/Rickdiculously-vulnhub.html">Vulnhub RickdiculouslyEasy</a>
                  
                    (Categories: <a href="/category/vulnhub">vulnhub</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="https://blog.roskyfrosky.com/vulnhub/2017/10/24/VulnerableDocker_Easymode.html">Vulnhub VulnerableDocker Easy mode</a>
                  
                    (Categories: <a href="/category/vulnhub">vulnhub</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="https://blog.roskyfrosky.com/vulnhub/2017/06/09/Hackfest-orcus.html">Vulnhub HackFest Orcus</a>
                  
                    (Categories: <a href="/category/vulnhub">vulnhub</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="https://blog.roskyfrosky.com/vulnhub/2017/04/20/Kioptrix3.0-vulnhub.html">Kioptrix Level 3 (1.2) VulnHub Boot2Root</a>
                  
                    (Categories: <a href="/category/vulnhub">vulnhub</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="https://blog.roskyfrosky.com/vulnhub/2017/04/01/Kioptrix2.0-vulnhub.html">Kioptrix Level 2 VulnHub Boot2Root</a>
                  
                    (Categories: <a href="/category/vulnhub">vulnhub</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
  
  </ul>
</div>


<div class="PageNavigation">
  
    <a class="prev" href="/pentestlimited/2017/05/08/Securi-tay-pentestlimited.html">&laquo; Securi-Tay 2017	PentesLimited  Boot2Root</a>
  
  
    <a class="next" href="/vulnhub/2017/06/09/Hackfest-orcus.html">Vulnhub HackFest Orcus &raquo;</a>
  
</div>


<div id="disqus_thread"></div>
<script>

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://roskyfrosky-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        <footer>
          &copy; Roskyfrosky
          
            - <a href="https://github.com/roskyfrosky">https://github.com/roskyfrosky</a> - Powered by Jekyll.
          
        </footer>
      </div>
      <!-- end /.col-sm-8 -->
    </div>
    <!-- end /.container -->

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/super-search.js"></script>
    <script src="/static/js/thickbox-compressed.js"></script>
    <script src="/static/js/projects.js"></script>
  </body>
</html>

